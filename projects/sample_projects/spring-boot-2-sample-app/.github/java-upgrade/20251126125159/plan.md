
# Upgrade Plan

## Project Information
- **Project path**: C:\Users\avina\copilot-cli\baseline-projects\Code_Analysis_Assistant-\projects\sample_projects\spring-boot-2-sample-app
- **Working branch**: appmod/java-upgrade-20251126125159

- **Java version**: 8

## Development Environment
- **Source JDK path (Java 8)**: C:\Users\avina\.jdk\jdk-8\bin
- **Target JDK path (Java 21)**: C:\Program Files\Java\jdk-21\bin
- **Build tool type**: Maven
- **Build tool path**: C:\softwares\mvn\bin
- **Build tool command options**:

> "Build tool command options" will be passed to all build tool execution commands. refer to [Maven CLI documentation](https://maven.apache.org/ref/3.1.0/maven-embedder/cli.html) for Maven options, e.g., `-Dmaven.javadoc.skip=true`. Refer to [Gradle CLI documentation](https://docs.gradle.org/current/userguide/command_line_interface.html#sec:environment_options) for Gradle options, e.g., `--info -Penv=prod`.

## Upgrade Goals
- Upgrade Java to 21 <!-- java:*:21 -->
- Upgrade Spring Boot to 3.2.x <!-- org.springframework.boot:*:3.2.x -->

## Guidelines
> Note: You can add any specific guidelines or constraints for the upgrade process here if needed, bullet points are preferred.


## Additional Tasks
- Run tests before and after the upgrade: true

## Execution Plan
> Note: This section is READONLY and you can NOT modify it.

1. Set up the development environment using tool #setup_upgrade_environment.
    
    - Validate the specified/installed build tool and JDKs.
    
    - Create working branch `appmod/java-upgrade-20251126125159`.
2. Perform preliminary checks to ensure everything is ready.
3. Achieve the objectives set for each milestone one by one until the final upgrade goal is reached. At this stage, focus only on upgrading the required dependencies and Java version to meet the upgrade targets and ensuring the project can be built.
    - Milestone 1: Upgrade project to use `Spring Boot 3.2.x`, `Java 21`

    For each milestone:
    1. Use tool #upgrade_using_openrewrite or Agent to upgrade the necessary dependencies and Java version to the target version for the current milestone.
    2. Continuously fix build errors through a build fix loop until that the upgrade objectives of current milestone are met and the project can be built successfully.
4. Repeatedly check for any other issue (e.g. CVE issues, code behavior changes and test failures) and fix them until the project builds successfully and all issues are fixed.
    1. Check for any CVE issues using tool #validate_cves_for_java and fix the **Critical**, **High** and **Medium** severity ones.
    2. Check for invalid code behavioral changes and fix the **Critical** and **Major** severity ones, you MUST do this job by yourself.
    3. Check for any test errors/failures using tool #run_tests_for_java and fix those related to this upgrade.
5. Summarize all the changes made during this upgrading process using tool #summarize_upgrade after the process is complete, no matter if the project builds successfully or not.

> Please be advised that some of the code is generated by AI. While we strive for accuracy, AI-generated code may not always be 100% reliable. Please review and use at your own discretion. We highly recommend testing the code in a controlled environment before deploying into production environment.
